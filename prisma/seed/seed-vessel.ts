import { faker } from '@faker-js/faker';
import {
  PrismaClient,
  Station,
  Vessel,
  VesselCapability,
  VesselClass,
  VesselInspector,
  VesselState,
} from '@prisma/client';
const prisma = new PrismaClient();

const vessels = [
  {
    mmsi: '257246500',
    name: 'RS 103 "Dagfinn Paust"',
    rs: '103',
    callsign: 'LAGJ',
    vesselTypeTxt: 'Fast bemannet',
    mobile: '91679603',
    email: 'rs103@rs.no',
  },
  {
    mmsi: '257227000',
    name: 'RS 107 "Knut Hoem"',
    rs: '107',
    callsign: 'LDOT',
    vesselTypeTxt: 'Fast bemannet',
    mobile: '91679607',
    email: 'rs107@rs.no',
  },
  {
    mmsi: '257218500',
    name: 'RS 108 "Kaptein Buhre"',
    rs: '108',
    callsign: 'LEFF',
    vesselTypeTxt: 'Fast bemannet',
    mobile: '91679608',
    email: 'rs108@rs.no',
  },
  {
    mmsi: '259313000',
    name: 'RS 110 "Reidar von Koss"',
    rs: '110',
    callsign: 'LHWK',
    vesselTypeTxt: 'Fast bemannet',
    mobile: '91679610',
    email: 'rs110@rs.no',
  },
  {
    mmsi: '259343000',
    name: 'RS 111 "Peter Henry von Koss"',
    rs: '111',
    callsign: 'LHWS',
    vesselTypeTxt: 'Fast bemannet',
    mobile: '91679611',
    email: 'rs111@rs.no',
  },
  {
    mmsi: '259460000',
    name: 'RS 113 "Erik Bye"',
    rs: '113',
    callsign: 'LITD',
    vesselTypeTxt: 'Fast bemannet',
    mobile: '91679613',
    email: 'rs113@rs.no',
  },
  {
    mmsi: '259473000',
    name: 'RS 114 "Bergen Kreds"',
    rs: '114',
    callsign: 'LIZR',
    vesselTypeTxt: 'Fast bemannet',
    mobile: '91679614',
    email: 'rs114@rs.no',
  },
  {
    mmsi: '257677900',
    name: 'RS 120 "Sundt "',
    rs: '120',
    callsign: 'LF3679',
    vesselTypeTxt: 'Sjøredningskorps',
    mobile: '91679620',
    email: 'rs120@rs.no',
  },
  {
    mmsi: '257733900',
    name: 'RS 122 "Simrad Færder"',
    rs: '122',
    callsign: 'LF3752',
    vesselTypeTxt: 'Sjøredningskorps',
    mobile: '91679622',
    email: 'rs122@rs.no',
  },
  {
    mmsi: '259193000',
    name: 'RS 125 "Det Norske Veritas"',
    rs: '125',
    callsign: 'LMGR',
    vesselTypeTxt: 'Fast bemannet',
    mobile: '91679625',
    email: 'rs125@rs.no',
  },
  {
    mmsi: '258073000',
    name: 'RS 126 "Harald V"',
    rs: '126',
    callsign: 'LMLG',
    vesselTypeTxt: 'Fast bemannet',
    mobile: '91679626',
    email: 'rs126@rs.no',
  },
  {
    mmsi: '257895900',
    name: 'RS 127 "Ryfylke"',
    rs: '127',
    callsign: 'LF3933',
    vesselTypeTxt: 'Sjøredningskorps',
    mobile: '91679627',
    email: 'rs127@rs.no',
  },
  {
    mmsi: '257904900',
    name: 'RS 128 "Gideon"',
    rs: '128',
    callsign: 'LF3941',
    vesselTypeTxt: 'Sjøredningskorps',
    mobile: '91679628',
    email: 'rs128@rs.no',
  },
  {
    mmsi: '257918900',
    name: 'RS 129 "Une Amundsen"',
    rs: '129',
    callsign: 'LF4007',
    vesselTypeTxt: 'Sjøredningskorps',
    mobile: '91679629',
    email: 'rs129@rs.no',
  },
  {
    mmsi: '257959900',
    name: 'RS 130 "Utvær"',
    rs: '130',
    callsign: 'LF60000',
    vesselTypeTxt: 'Sjøredningskorps',
    mobile: '91679630',
    email: 'rs130@rs.no',
  },
  {
    mmsi: '257964900',
    name: 'RS 131 "Uni"',
    rs: '131',
    callsign: 'LF5005',
    vesselTypeTxt: 'Sjøredningskorps',
    mobile: '91679631',
    email: 'rs131@rs.no',
  },
  {
    mmsi: '258005500',
    name: 'RS 132 "Gjert Wilhelmsen"',
    rs: '132',
    callsign: 'LNAW',
    vesselTypeTxt: 'Fast bemannet',
    mobile: '91679632',
    email: 'rs132@rs.no',
  },
  {
    mmsi: '259176000',
    name: 'RS 136 "Halfdan Grieg"',
    rs: '136',
    callsign: 'LNRS',
    vesselTypeTxt: 'Fast bemannet',
    mobile: '91679636',
    email: 'rs136@rs.no',
  },
  {
    mmsi: '258144000',
    name: 'RS 137 "Kristian Gerhard Jebsen"',
    rs: '137',
    callsign: 'LIHI',
    vesselTypeTxt: 'Fast bemannet',
    mobile: '91679637',
    email: 'rs137@rs.no',
  },
  {
    mmsi: '259192000',
    name: 'RS 138 "Sundt Flyer"',
    rs: '138',
    callsign: 'LAII',
    vesselTypeTxt: 'Fast bemannet',
    mobile: '91679638',
    email: 'rs138@rs.no',
  },
  {
    mmsi: '258092500',
    name: 'RS 139 "Uni Oslofjord"',
    rs: '139',
    callsign: 'LF4040',
    vesselTypeTxt: 'Sjøredningskorps',
    mobile: '91679639',
    email: 'rs139@rs.no',
  },
  {
    mmsi: '258150500',
    name: 'RS 140 "Bjarne Kyrkjebø"',
    rs: '140',
    callsign: 'LF4119',
    vesselTypeTxt: 'Sjøredningskorps',
    mobile: '91679640',
    email: 'rs140@rs.no',
  },
  {
    mmsi: '258235500',
    name: 'RS 142 "Horn Flyer"',
    rs: '142',
    callsign: 'LCLA',
    vesselTypeTxt: 'Fast bemannet',
    mobile: '91679642',
    email: 'rs142@rs.no',
  },
  {
    mmsi: '257024500',
    name: 'RS 143 "Uni Kragerø"',
    rs: '143',
    callsign: 'LF5200',
    vesselTypeTxt: 'Sjøredningskorps',
    mobile: '91679643',
    email: 'rs143@rs.no',
  },
  {
    mmsi: '258276500',
    name: 'RS 144 "Uni Helgeland"',
    rs: '144',
    callsign: 'LF4260',
    vesselTypeTxt: 'Sjøredningskorps',
    mobile: '91679644',
    email: 'rs144@rs.no',
  },
  {
    mmsi: '258277500',
    name: 'RS 145 "Vekteren"',
    rs: '145',
    callsign: 'LF4261',
    vesselTypeTxt: 'Sjøredningskorps',
    mobile: '91679645',
    email: 'rs145@rs.no',
  },
  {
    mmsi: '258258500',
    name: 'RS 146 "Stormbull"',
    rs: '146',
    callsign: 'LDLN',
    vesselTypeTxt: 'Fast bemannet',
    mobile: '91679646',
    email: 'rs146@rs.no',
  },
  {
    mmsi: '258257500',
    name: 'RS 147 "Inge Steensland"',
    rs: '147',
    callsign: 'LDLR',
    vesselTypeTxt: 'Fast bemannet',
    mobile: '91679647',
    email: 'rs147@rs.no',
  },
  {
    mmsi: '257150500',
    name: 'RS 148 "Mjøsvekteren"',
    rs: '148',
    callsign: 'LF5287',
    vesselTypeTxt: 'Sjøredningskorps',
    mobile: '91679648',
    email: 'rs148@rs.no',
  },
  {
    mmsi: '257492500',
    name: 'RS 149 "Uni Røros"',
    rs: '149',
    callsign: null,
    vesselTypeTxt: 'Sjøredningskorps',
    mobile: '91679649',
    email: 'rs149@rs.no',
  },
  {
    mmsi: '258280500',
    name: 'RS 150 "Odin"',
    rs: '150',
    callsign: 'LFSI',
    vesselTypeTxt: 'Fast bemannet',
    mobile: '91679650',
    email: 'rs150@rs.no',
  },
  {
    mmsi: '257123900',
    name: 'RS 151 "Sjømann"',
    rs: '151',
    callsign: 'LF5270',
    vesselTypeTxt: 'Sjøredningskorps',
    mobile: '91679651',
    email: 'rs151@rs.no',
  },
  {
    mmsi: '257165800',
    name: 'RS 152 "Bergesen d.y"',
    rs: '152',
    callsign: 'LF5297',
    vesselTypeTxt: 'Sjøredningskorps',
    mobile: '91679652',
    email: 'rs152@rs.no',
  },
  {
    mmsi: '257556500',
    name: 'RS 154 "Det Norske Veritas II"',
    rs: '154',
    callsign: 'LF5476',
    vesselTypeTxt: 'Sjøredningskorps',
    mobile: '91679654',
    email: 'rs154@rs.no',
  },
  {
    mmsi: '257556700',
    name: 'RS 155 "Bendt R. Rasmussen"',
    rs: '155',
    callsign: 'LF5477',
    vesselTypeTxt: 'Sjøredningskorps',
    mobile: '91679655',
    email: 'rs155@rs.no',
  },
  {
    mmsi: '257556800',
    name: 'RS 156 "Eivind Eckbo"',
    rs: '156',
    callsign: 'LF5478',
    vesselTypeTxt: 'Sjøredningskorps',
    mobile: '91679656',
    email: 'rs156@rs.no',
  },
  {
    mmsi: '257565700',
    name: 'RS 157 "Bill"',
    rs: '157',
    callsign: 'LF5584',
    vesselTypeTxt: 'Sjøredningskorps',
    mobile: '91679657',
    email: 'rs157@rs.no',
  },
  {
    mmsi: '257047000',
    name: 'RS 420 "Eyr Ytterholmen"',
    rs: '420',
    callsign: 'LCQN',
    vesselTypeTxt: 'Ambulanse',
    mobile: '97993420',
    email: 'rs420@rs.no',
  },
  {
    mmsi: '257029000',
    name: 'RS 421 "Eyr Bremstein"',
    rs: '421',
    callsign: 'LCQQ',
    vesselTypeTxt: 'Ambulanse',
    mobile: '97993421',
    email: 'rs421@rs.no',
  },
  {
    mmsi: '257054000',
    name: 'RS 422 "Eyr Myken"',
    rs: '422',
    callsign: 'LCQU',
    vesselTypeTxt: 'Ambulanse',
    mobile: '97993422',
    email: 'rs422@rs.no',
  },
  {
    mmsi: '257807490',
    name: 'RS 423 "Eyr Åsvær"',
    rs: '423',
    callsign: 'LG2913',
    vesselTypeTxt: 'Ambulanse',
    mobile: '97993423',
    email: 'rs423@rs.no',
  },
  {
    mmsi: '258233500',
    name: 'RS 134 "Uni Femunden"',
    rs: '134',
    callsign: 'LF4207',
    vesselTypeTxt: 'Sjøredningskorps',
    mobile: '91502016',
    email: 'rs134@rs.no',
  },
  {
    mmsi: '258027500',
    name: 'RS 135 "Kaptein E. Nygård"',
    rs: '135',
    callsign: 'LF5053',
    vesselTypeTxt: 'Sjøredningskorps',
    mobile: '91679635',
    email: 'rs135@rs.no',
  },
  {
    mmsi: '258217500',
    name: 'RS 141 "Mærsk"',
    rs: '141',
    callsign: 'LF4193',
    vesselTypeTxt: 'Sjøredningskorps',
    mobile: '91679641',
    email: 'rs141@rs.no',
  },
  {
    mmsi: '257744900',
    name: 'RS 123 "Simrad Buholmen SRK"',
    rs: '123',
    callsign: 'LF3762',
    vesselTypeTxt: 'Sjøredningskorps',
    mobile: '91679623',
    email: 'rs123@rs.no',
  },
  {
    mmsi: '257654700',
    name: 'RS 159 "Elias"',
    rs: '159',
    callsign: 'LF5597',
    vesselTypeTxt: 'Sjøredningskorps',
    mobile: '91679659',
    email: 'rs159@rs.no',
  },
  {
    mmsi: '257641000',
    name: 'RS 160 "Horn Rescue"',
    rs: '160',
    callsign: 'LCQM',
    vesselTypeTxt: 'Fast bemannet',
    mobile: '91679660',
    email: 'rs160@rs.no',
  },
  {
    mmsi: '257393000',
    name: 'RS 158 "Idar Ulstein"',
    rs: '158',
    callsign: 'LMOT',
    vesselTypeTxt: 'Fast bemannet',
    mobile: '91679658',
    email: 'rs158@rs.no',
  },
  {
    mmsi: '257928800',
    name: 'RS 162 "Klaveness Marine"',
    rs: '162',
    callsign: 'LEBG',
    vesselTypeTxt: 'Fast bemannet',
    mobile: '91679662',
    email: 'rs162@rs.no',
  },
  {
    mmsi: '257795700',
    name: 'RS 161 "Einar Staff Sr."',
    rs: '161',
    callsign: 'LF6164',
    vesselTypeTxt: 'Sjøredningskorps',
    mobile: '91679661',
    email: 'rs161@rs.no',
  },
  {
    mmsi: '257952600',
    name: 'RS 163 "Kristian Gerhard Jebsen II"',
    rs: '163',
    callsign: 'LECM',
    vesselTypeTxt: 'Fast bemannet',
    mobile: '91679663',
    email: 'rs163@rs.no',
  },
  {
    mmsi: '257003550',
    name: 'RS 164 "Jens Bye"',
    rs: '164',
    callsign: 'LF5245',
    vesselTypeTxt: 'Sjøredningskorps',
    mobile: '91679664',
    email: 'rs164@rs.no',
  },
  {
    mmsi: '257003560',
    name: 'RS 165 "Askeladden"',
    rs: '165',
    callsign: 'LF5264',
    vesselTypeTxt: 'Sjøredningskorps',
    mobile: '91679665',
    email: 'rs165@rs.no',
  },
  {
    mmsi: '257003590',
    name: 'RS 166 "Horn Stayer"',
    rs: '166',
    callsign: 'LF5305',
    vesselTypeTxt: 'Sjøredningskorps',
    mobile: '91679666',
    email: 'rs166@rs.no',
  },
  {
    mmsi: '257035360',
    name: 'RS 168 "Hans Herman Horn"',
    rs: '168',
    callsign: 'LFAM',
    vesselTypeTxt: 'Fast bemannet',
    mobile: '91679668',
    email: 'rs168@rs.no',
  },
  {
    mmsi: '257037300',
    name: 'RS 167 "UNI Sognefjord"',
    rs: '167',
    callsign: 'LF6140',
    vesselTypeTxt: 'Sjøredningskorps',
    mobile: '91679667',
    email: 'rs167@rs.no',
  },
  {
    mmsi: '257035500',
    name: 'RS 169 "Odd Fellow III"',
    rs: '169',
    callsign: 'LFJG',
    vesselTypeTxt: 'Fast bemannet',
    mobile: '91679669',
    email: 'rs169@rs.no',
  },
  {
    mmsi: '257075210',
    name: 'RS 801 "Norsk Tipping I"',
    rs: '801',
    callsign: 'LF6484',
    vesselTypeTxt: 'Støttefartøy',
    mobile: '91679664',
    email: 'rs801@rs.no',
  },
  {
    mmsi: '257067640',
    name: 'RS 170 "Prinsesse Ragnhild"',
    rs: '170',
    callsign: 'LF6452',
    vesselTypeTxt: 'Sjøredningskorps',
    mobile: '91679670',
    email: 'rs170@rs.no',
  },
  {
    mmsi: '257075230',
    name: 'RS 802 "Norsk Tipping II"',
    rs: '802',
    callsign: 'LF6485',
    vesselTypeTxt: 'Støttefartøy',
    mobile: null,
    email: 'rs802@rs.no',
  },
  {
    mmsi: '257075250',
    name: 'RS 803 "Folke Patriksson I"',
    rs: '803',
    callsign: 'LF6486',
    vesselTypeTxt: 'Støttefartøy',
    mobile: '91679646',
    email: 'rs803@rs.no',
  },
  {
    mmsi: '257089480',
    name: 'RS 171 "Ivar Formo"',
    rs: '171',
    callsign: 'LFWY',
    vesselTypeTxt: 'Fast bemannet',
    mobile: '91679671',
    email: 'rs171@rs.no',
  },
  {
    mmsi: '257075260',
    name: 'RS 804 "Folke Patriksson II"',
    rs: '804',
    callsign: 'LF6487',
    vesselTypeTxt: 'Støttefartøy',
    mobile: null,
    email: 'rs804@rs.no',
  },
  {
    mmsi: '257075360',
    name: 'RS 805 "Dora Elsebeth"',
    rs: '805',
    callsign: 'LF6488',
    vesselTypeTxt: 'Støttefartøy',
    mobile: null,
    email: 'rs805@rs.no',
  },
  {
    mmsi: '257075370',
    name: 'RS 806 "UNI Torungen"',
    rs: '806',
    callsign: 'LF6489',
    vesselTypeTxt: 'Støttefartøy',
    mobile: null,
    email: 'rs806@rs.no',
  },
  {
    mmsi: '257085670',
    name: 'RS 901 "Isvekteren"',
    rs: '901',
    callsign: 'LF6544',
    vesselTypeTxt: 'Sjøredningskorps',
    mobile: '99547647',
    email: 'rs901@rs.no',
  },
  {
    mmsi: '257126540',
    name: 'RS 172 "Ragnar Stoud Platou"',
    rs: '172',
    callsign: 'LGBE',
    vesselTypeTxt: 'Fast bemannet',
    mobile: '91679672',
    email: 'rs172@rs.no',
  },
  {
    mmsi: '258012160',
    name: 'RS 807 "UNI Oksøy"',
    rs: '807',
    callsign: 'LF2743',
    vesselTypeTxt: 'Støttefartøy',
    mobile: null,
    email: 'rs807@rs.no',
  },
  {
    mmsi: '258004210',
    name: 'RS 902 "Klaveness stiftelsen"',
    rs: '902',
    callsign: 'LF7217',
    vesselTypeTxt: 'Sjøredningskorps',
    mobile: '91725442',
    email: 'rs902@rs.no',
  },
  {
    mmsi: '258012170',
    name: 'RS 808 "Sjøvekteren"',
    rs: '808',
    callsign: 'LF7244',
    vesselTypeTxt: 'Støttefartøy',
    mobile: null,
    email: 'rs808@rs.no',
  },
  {
    mmsi: '258002830',
    name: 'RS 173 "Erling Skjalgsson"',
    rs: '173',
    callsign: 'LGMI',
    vesselTypeTxt: 'Fast bemannet',
    mobile: '91679673',
    email: 'rs173@rs.no',
  },
  {
    mmsi: '258012180',
    name: 'RS 809 "Nicolai Jarlsby"',
    rs: '809',
    callsign: 'LF7245',
    vesselTypeTxt: 'Støttefartøy',
    mobile: null,
    email: 'rs809@rs.no',
  },
  {
    mmsi: '259004240',
    name: 'RS 905 "Frisk Bris"',
    rs: '905',
    callsign: 'LL2825',
    vesselTypeTxt: 'Sjøredningskorps',
    mobile: '91679634',
    email: 'rs905@rs.no',
  },
  {
    mmsi: '259004550',
    name: 'RS 810 "Berge liv"',
    rs: '810',
    callsign: 'LF3717',
    vesselTypeTxt: 'Støttefartøy',
    mobile: null,
    email: 'rs810@rs.no',
  },
  {
    mmsi: '259004540',
    name: 'RS 950 "MMI"',
    rs: '950',
    callsign: null,
    vesselTypeTxt: 'Sjøredningskorps',
    mobile: null,
    email: 'ro950@rs.no',
  },
  {
    mmsi: '259005900',
    name: 'RS 174 "Oscar Tybring V"',
    rs: '174',
    callsign: 'LGPC',
    vesselTypeTxt: 'Fast bemannet',
    mobile: '91679674',
    email: 'rs174@rs.no',
  },
  {
    mmsi: '257110290',
    name: 'RS 903 "Frikken"',
    rs: '903',
    callsign: 'LF6894',
    vesselTypeTxt: 'Sjøredningskorps',
    mobile: '91382123',
    email: 'rs903@rs.no',
  },
  {
    mmsi: '258022120',
    name: 'RS 811 "Inger Johanne"',
    rs: '811',
    callsign: 'LF7358',
    vesselTypeTxt: 'Støttefartøy',
    mobile: null,
    email: 'rs811@rs.no',
  },
];

const randomStateId = async function () {
  const stateLength = await prisma.vesselState.count();
  return Math.floor(Math.random() * stateLength) + 1;
};

const randomVesselTypeId = async function () {
  const stateLength = await prisma.vesselType.count();
  return Math.floor(Math.random() * stateLength) + 1;
};

const randomVesselClassId = function (classes: Array<VesselClass>) {
  return classes[Math.floor(Math.random() * classes.length)];
};

const randomStationId = function (stations: Array<Station>) {
  return stations[Math.floor(Math.random() * stations.length)];
};

const randomCapabilityId = function (capabilities: Array<VesselCapability>) {
  return capabilities[Math.floor(Math.random() * capabilities.length)];
};

const randomInspectorId = async function () {
  const inspectorCount = await prisma.vesselInspector.count();
  return Math.floor(Math.random() * inspectorCount);
};

const randomCapabilityArray = function (capabilities: Array<VesselCapability>) {
  const maxNumberOfCapability = Math.floor(Math.random() * capabilities.length);
  const capabilityArray: number[] = [];
  for (let i = 0; i < maxNumberOfCapability; i++) {
    if (!capabilityArray.includes(i))
      capabilityArray.push(randomCapabilityId(capabilities).id);
  }
  return capabilityArray.map((capability) => ({ id: capability }));
};

export const seedVessels = async function (
  capabilities: Array<VesselCapability>,
  stations: Array<Station>,
  classes: Array<VesselClass>,
) {
  const vesselModels: Array<Vessel> = [];
  for (const vessel of vessels) {
    let vesselModel = await prisma.vessel.upsert({
      where: { name: vessel.name },
      update: {},
      create: {
        rs: +vessel.rs,
        mmsi: +vessel.mmsi,
        name: vessel.name,
        classId: randomVesselClassId(classes).id,
        stationId: randomStationId(stations).id,
        stateId: await randomStateId(),
        capabilities: {
          connect: randomCapabilityArray(capabilities),
        },
        typeId: await randomVesselTypeId(),
        inspectorId: await randomInspectorId(),
      },
    });
    vesselModels.push(vesselModel);
  }
  return vesselModels;
};
